<html><!-- InstanceBegin template="/Templates/informationObject.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
  
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" -->
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">


<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
</HEAD>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">
<script>writeinformationObjectTopNav1();</script>
	  
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Using 
      an Index to Combine Data<!-- InstanceEndEditable --></strong></font> <!-- InstanceBeginEditable name="continued" --><font color="#003399" size="3" face="Arial, Helvetica, sans-serif">(continued)</font><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>
<br>
<center>
  <!-- InstanceBeginEditable name="content" --> 
  <table width="85%" border="0" cellpadding="0" cellspacing="0">
    <tr valign="top"> 
      <td> <h2>The <code>_IORC_</code> Variable</h2>
        <p>When you use the KEY= option, SAS creates an automatic variable<strong> 
          </strong>named<strong> </strong><code>_IORC_</code>, which stands for 
          <strong>INPUT/OUTPUT Return Code</strong>. You can use <code>_IORC_</code> 
          to determine whether the index search was successful. If the value of 
          <code>_IORC_</code> is zero, SAS found a matching observation. If the 
          value of <code>_IORC_</code> is not zero, SAS did not find a matching 
          observation.</p>
		 <table border="0" cellpadding="2" cellspacing="0">
      <tr> 
        
    <td valign="top" width="24"><img src="../navimages/note.gif" width="20" height="20" alt="Note"></td>
            <td valign="top">The <code>_IORC_</code> variable is also automatically created 
              when you use the MODIFY statement with the KEY= option in the DATA 
              step.</td>
      </tr>
    </table>
        <p>On the previous page, you saw an example in which a data error was 
          included in the output data set and was written to the SAS log. To prevent 
          writing the data error to the log (and to your output data set), 
        <ul>
          <li>check the value of <code>_IORC_</code> to determine whether a match 
            has been found 
          <li>set <code>_ERROR_</code> to <em>0</em> if there is no match 
          <li>delete the nonmatching data or write the nonmatching data to an 
            errors data set. 
        </ul><P><BR>
       <h2>Example</h2>
        <p>The following example uses the <strong>Flightdate</strong> index to 
          combine data from <strong>Sasuser.Sale2000</strong> with data from <strong>Sasuser.Dnunder</strong>, 
          and writes the combined data to a new data set named <strong>Work.Profit3</strong>. 
          If any unmatched observations are read from <strong>Sasuser.Dnunder</strong>, 
          the resulting combined observation will be written to <strong>Work.Errors</strong>. 
          No observations should be written to the SAS log.</p>
        <font color="#003399"> 
        <pre>     data work.profit3 work.errors;
        set sasuser.dnunder;
        set sasuser.sale2000(keep=routeid flightid date rev1st 
            revbusiness revecon revcargo)key=flightdate;
        if _iorc_=0 then do;
           Profit=sum(rev1st, revbusiness, revecon, revcargo,
                 -expenses);
           output work.profit3;
        end;
        else do;
           _error_=0;
           output work.errors;
        end;
     run;</pre>
        </font> If you examine <a href="JavaScript: openOther('m56_42a.htm')">the 
        results</a> from the program above, you will notice that there is one 
        fewer observation in the <strong>Work.Profit3</strong> output data set 
        than there was in the <strong>Work.Profit</strong> output data set. The 
        extra observation has been written to the <strong>Work.Errors</strong> 
        data set because it contains a data error.</td>
    </tr>
  </table>
 
  <p><br>

  
  <!-- InstanceEndEditable --> 
</center>
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
