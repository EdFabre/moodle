<html><!-- InstanceBegin template="/Templates/informationObject.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
  
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" -->
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">


<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
</HEAD>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">
<script>writeinformationObjectTopNav1();</script>
	  
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Additional 
      Features <!-- InstanceEndEditable --></strong></font> <!-- InstanceBeginEditable name="continued" --><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>
<br>
<center>
  <!-- InstanceBeginEditable name="content" --> 
  <table width="85%" border="0" cellpadding="0" cellspacing="0" align="center">
    <tr valign="top"> 
      <td> <p>In addition to the methods for appending raw data files that were 
          discussed earlier in this lesson, you can also append raw data files 
          using a SAS data set or an external file that contains the names of 
          the raw data files to be appended.<P><BR>
        <h2>Storing Raw Data Filenames in a SAS Data Set</h2>
        <p>In the following program, five raw data files, <strong>Route1.dat</strong>, 
          <strong>Route2.dat</strong>, <strong>Route3.dat</strong>, <strong>Route4.dat</strong>, 
          and <strong>Route5.dat</strong>, are concatenated to create the SAS 
          data set <strong>Work.NewRoute</strong>. The names of the raw data files 
          are stored in the SAS data set <strong>Sasuser.Rawdata</strong>, which 
          is referenced using a SET statement. The name of the FILEVAR= variable, 
          <code>readit</code>, is the name of the variable in <strong>Sasuser.Rawdata</strong> 
          whose value is the name of the file to be read.</p></td>
    </tr>
  </table>
  <P><br>
  SAS Data Set Sasuser.Rawdata<br>

  <table  border=1 cellspacing=0 cellpadding=3 frame=BOX bgcolor="#CCCCCC" title="SAS Data Set">
    <thead>
      <tr> 
        <td align=CENTER bgcolor="#F7F7DE"><font face="Verdana, Arial, Helvetica" size="2" color="#000000"><b>Obs</b></font></td>
        <td align=LEFT bgcolor="#F7F7DE"><font face="Verdana, Arial, Helvetica" size="2" color="#000000"><b>readit</b></font></td>
      </tr>
    </thead>
    <tbody>
      <tr> 
        <td align=RIGHT bgcolor="#FFFFFF"><div align="center"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">1</font></div></td>
        <td align=LEFT bgcolor="#FFFFFF"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">route1.dat</font></td>
      </tr>
      <tr> 
        <td align=RIGHT bgcolor="#FFFFFF"><div align="center"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">1</font></div></td>
        <td align=LEFT bgcolor="#FFFFFF"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">route2.dat</font></td>
      </tr>
      <tr> 
        <td align=RIGHT bgcolor="#FFFFFF"><div align="center"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">3</font></div></td>
        <td align=LEFT bgcolor="#FFFFFF"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">route3.dat</font></td>
      </tr>
      <tr> 
        <td align=RIGHT bgcolor="#FFFFFF"><div align="center"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">4</font></div></td>
        <td align=LEFT bgcolor="#FFFFFF"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">route4.dat</font></td>
      </tr>
      <tr> 
        <td align=RIGHT bgcolor="#FFFFFF"><div align="center"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">5</font></div></td>
        <td align=LEFT bgcolor="#FFFFFF"><font face="Verdana, Arial, Helvetica" size="2" color="#000000">route5.dat</font></td>
      </tr>
    </tbody>
  </table>
<P><BR>
  <table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
    <tr> 
      <td><pre><font color="#003399">     data work.newroute;
        <strong>set sasuser.rawdata</strong>;
        infile in filevar = readit end = lastfile;
        do while(lastfile = 0);       
           input  @1 RouteID $7. @8 Origin $3. @11 Dest $3. 
                  @14 Distance 5. @19 Fare1st 4. 
                  @23 FareBusiness 4. @27 FareEcon 4. 
                  @31 FareCargo 5.;	         
           output;
        end;
     run;</font></pre></td>
    </tr>
  </table>
<P>
  <br>
  <table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
    <tr> 
      <td><p><strong>Storing Raw Data Filenames in an External File</strong></p>
        <p>In the following program, <strong>Route1.dat</strong>, <strong>Route2.dat</strong>, 
          <strong>Route3.dat</strong>, <strong>Route4.dat,</strong> and <strong>Route5.dat</strong> 
          are also concatenated to create the SAS data set <strong>Work.NewRoute</strong>. 
          In this example, the names of the raw data files are stored in the external 
          file <strong>Rawdatafiles.dat</strong>, which is referenced in the first 
          INFILE statement. The name of the FILEVAR= variable, <code>readit</code>, 
          is the name of the variable read from <strong>Rawdatafiles.dat</strong>. 
          The value of <code>readit</code> is the name of the raw data file to 
          be read.</p></td>
    </tr>
  </table>
  <p>
  <br>
  Raw Data File Rawdatafiles.dat<br>
  <table  border=1 cellspacing=0 cellpadding=0 rules=NONE frame=BOX bgcolor="#CCCCCC" title="Raw Data File">
    <tr> 
      <td align=CENTER bgcolor="#F7F7DE"><font  face="Courier New, Courier" size="2" color="#000000"><nobr>1---+----10---+----20</nobr></font></td>
    </tr>
    <tbody>
      <tr> 
        <td align=LEFT bgcolor="#FFFFFF"><font color="#000000" size="2" face="Courier New, Courier">route1.dat</font></td>
      </tr>
      <tr> 
        <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">route2.dat</font></td>
      </tr>
      <tr> 
        <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">route3.dat&nbsp;</font></td>
      </tr>
      <tr> 
        <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">route4.dat&nbsp;</font></td>
      </tr>
      <tr> 
        <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">route5.dat&nbsp;</font></td>
      </tr>
    </tbody>
  </table>
  <p>
  <br>
  <table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
    <tr> 
      <td><pre><font color="#003399">     data work.newroute;
        <strong>infile 'rawdatafiles.dat';</strong>
        input readit $10.;
        infile in filevar=readit end=lastfile;
        do while(lastfile = 0);       
           input  @1 RouteID $7. @8 Origin $3. @11 Dest $3. 
                  @14 Distance 5. @19 Fare1st 4. 
                  @23 FareBusiness 4. @27 FareEcon 4. 
                  @31 FareCargo 5.;	         
           output;
        end;
     run;</font></pre></td>
    </tr>
  </table>
  <p>
   <!-- InstanceEndEditable --> 
</center>
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
