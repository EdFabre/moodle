<html><!-- InstanceBegin template="/Templates/opt_example.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
 
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" -->
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Example</title></head>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">

<script>writeinformationObjectTopNav1();</script>
      
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Controlling Page Size and the Number of Buffers<!-- InstanceEndEditable --></strong></font> 
      <!-- InstanceBeginEditable name="continued" --><font color="#003399" size="3" face="Arial, Helvetica, sans-serif">(continued)</font><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>

<img src="../navimages/cleardot.gif" width="411" height="1" alt=" "><br>
<p>
<!-- InstanceBeginEditable name="Example Title" -->
<table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr valign="top"> 
    <td> <h2><img src="../navimages/opt_ex.gif" alt="Example" width="32" height="32" align="absmiddle">Comparative 
        Example: Using the BUFSIZE= Option and the BUFNO= Option</h2></td>
  </tr>
</table>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="Introduction" -->
<table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr valign="top"> 
    <td> <p>Suppose you want to compare the resource usage when a data set is 
        read using different buffer sizes and a varying number of buffers. The 
        following sample programs use the following settings for the BUFNO= option 
        and the BUFSIZE= option. 
      <ol>
        <li><a href="#1">BUFSIZE=6144, BUFNO=2</a></li>
        <li><a href="#2">BUFSIZE=6144, BUFNO=5</a></li>
        <li><a href="#3">BUFSIZE=6144, BUFNO=10</a></li>
        <li><a href="#4">BUFSIZE=12288, BUFNO=2</a></li>
        <li><a href="#5">BUFSIZE=12288, BUFNO=5</a></li>
        <li><a href="#6">BUFSIZE=12288, BUFNO=10</a></li>
      </ol>
      <p>You can use these samples as models for creating benchmark programs in 
        your own environment. Your results might vary depending on the structure 
        of your data, your operating environment, and the resources that are available 
        at your site. You can also view <a href="#recommendations">general recommendations</a> 
        for controlling page size and the number of buffers. 
      <p>
      <table width="100%" border="0" cellpadding="2" cellspacing="0">
        <tr> 
          <td valign="top" width="24"><img src="../navimages/note.gif" width="20" height="20" alt="Note"></td>
          <td valign="top">6144 bytes is the default page size under the z/OS 
            operating environment.</td>
        </tr>
      </table> 
      <p>
      <hr size="1" noshade></td>
  </tr>
</table>
<!-- InstanceEndEditable -->
<p> 
  
<table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr valign="top"> 
      <td> <h2><!-- InstanceBeginEditable name="Technique Title" --><a name="techniques"></a>Programming 
        Techniques<!-- InstanceEndEditable --></h2></td>
    </tr>
  </table>
<!-- InstanceBeginEditable name="Techniques" --> 
<table width="85%" border="1" align="center" cellpadding="10" cellspacing="0" bgcolor="#FFFFFF" title="Program 1">
  <tr> 
    <td bgcolor="#F7F7DE"> <p><strong><a name="1"></a><img src="../navimages/opt_1.gif" alt="1." width="20" height="20" align="absmiddle"> 
        BUFSIZE=6144, BUFNO=2</strong></p>
      <blockquote> 
        <p>This program reads the data set <strong>Retail.Order_fact</strong> 
          and creates the data set <strong>Work.Orders</strong>. The BUFSIZE= 
          option specifies that <strong>Work.Orders</strong> is created with a 
          buffer size of 6144 bytes. The BUFNO= option specifies that <em>2</em> 
          pages of data are loaded into memory with each I/O transfer.</p>
        </blockquote>
      <blockquote> 
        <pre><font color="#003399">     data work.orders <strong>(bufsize=6144 bufno=2)</strong>;
        set retail.order_fact;
     run;</font></pre>
      </blockquote></td>
  </tr>
</table>
<p><br>
<table width="85%" border="1" align="center" cellpadding="10" cellspacing="0" bgcolor="#FFFFFF" title="Program 2">
  <tr> 
    <td bgcolor="#F7F7DE"> <p><strong><a name="2" id="2"></a><img src="../navimages/opt_2.gif" alt="2." width="20" height="20" align="absmiddle"> 
        BUFSIZE=6144, BUFNO=5</strong></p>
      <blockquote> 
        <p>This program reads the data set <strong>Retail.Order_fact</strong> 
          and creates the data set <strong>Work.Orders</strong>. The BUFSIZE= 
          option specifies that <strong>Work.Orders</strong> is created with a 
          buffer size of 6144 bytes. The BUFNO= option specifies that <em>5</em> 
          pages of data are loaded into memory with each I/O transfer.</p>
      </blockquote>
      <blockquote> 
        <pre><font color="#003399">     data work.orders <strong>(bufsize=6144 bufno=5)</strong>;
        set retail.order_fact;
     run;</font></pre>
      </blockquote></td>
  </tr>
</table>
<p><br>
<table width="85%" border="1" align="center" cellpadding="10" cellspacing="0" bgcolor="#FFFFFF" title="Program 3">
  <tr> 
    <td bgcolor="#F7F7DE"> <p><strong><a name="3" id="3"></a><img src="../navimages/opt_3.gif" alt="2." width="20" height="20" align="absmiddle"> 
        BUFSIZE=6144, BUFNO=10</strong></p>
      <blockquote> 
        <p>This program reads the data set <strong>Retail.Order_fact</strong> 
          and creates the data set <strong>Work.Orders</strong>. The BUFSIZE= 
          option specifies that <strong>Work.Orders</strong> is created with a 
          buffer size of 6144 bytes. The BUFNO= option specifies that <em>10</em> 
          pages of data are loaded into memory with each I/O transfer.</p>
      </blockquote>
      <blockquote> 
        <pre><font color="#003399">     data work.orders <strong>(bufsize=6144 bufno=10)</strong>;
        set retail.order_fact;
     run;</font></pre>
      </blockquote></td>
  </tr>
</table>
<p><br>
<table width="85%" border="1" align="center" cellpadding="10" cellspacing="0" bgcolor="#FFFFFF" title="Program 4">
  <tr> 
    <td bgcolor="#F7F7DE"> <p><strong><a name="4" id="4"></a><img src="../navimages/opt_4.gif" alt="4." width="20" height="20" align="absmiddle"> 
        BUFSIZE=12288, BUFNO=2</strong></p>
      <blockquote> 
        <p>This program reads the data set <strong>Retail.Order_fact</strong> 
          and creates the data set <strong>Work.Orders</strong>. The BUFSIZE= 
          option specifies that <strong>Work.Orders</strong> is created with a 
          buffer size of 12288 bytes. The BUFNO= option specifies that <em>2</em> 
          pages of data are loaded into memory with each I/O transfer.</p>
      </blockquote>
      <blockquote> 
        <pre><font color="#003399">     data work.orders <strong>(bufsize=12288 bufno=2)</strong>;
        set retail.order_fact;
     run;</font></pre>
      </blockquote></td>
  </tr>
</table>
<p>&nbsp;</p><table width="85%" border="1" align="center" cellpadding="10" cellspacing="0" bgcolor="#FFFFFF" title="Program 5">
  <tr> 
    <td bgcolor="#F7F7DE"> <p><strong><a name="5" id="5"></a><img src="../navimages/opt_5.gif" alt="4." width="20" height="20" align="absmiddle"> 
        BUFSIZE=12288, BUFNO=5</strong></p>
      <blockquote> 
        <p>This program reads the data set <strong>Retail.Order_fact</strong> 
          and creates the data set <strong>Work.Orders</strong>. The BUFSIZE= 
          option specifies that <strong>Work.Orders</strong> is created with a 
          buffer size of 12288 bytes. The BUFNO= option specifies that <em>5</em> 
          pages of data are loaded into memory with each I/O transfer.</p>
      </blockquote>
      <blockquote> 
        <pre><font color="#003399">     data work.orders <strong>(bufsize=12288 bufno=5)</strong>;
        set retail.order_fact;
     run;</font></pre>
      </blockquote></td>
  </tr>
</table>
<p>&nbsp;</p><table width="85%" border="1" align="center" cellpadding="10" cellspacing="0" bgcolor="#FFFFFF" title="Program 6">
  <tr> 
    <td bgcolor="#F7F7DE"> <p><strong><a name="6" id="6"></a><img src="../navimages/opt_6.gif" alt="4." width="20" height="20" align="absmiddle"> 
        BUFSIZE=12288, BUFNO=10</strong></p>
      <blockquote> 
        <p>This program reads the data set <strong>Retail.Order_fact</strong> 
          and creates the data set <strong>Work.Orders</strong>. The BUFSIZE= 
          option specifies that <strong>Work.Orders</strong> is created with a 
          buffer size of 12288 bytes. The BUFNO= option specifies that <em>10</em> 
          pages of data are loaded into memory with each I/O transfer.</p>
      </blockquote>
      <blockquote> 
        <pre><font color="#003399">     data work.orders <strong>(bufsize=12288 bufno=10)</strong>;
        set retail.order_fact;
     run;</font></pre>
      </blockquote></td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;<!-- InstanceEndEditable --> 
<table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr> 
      <td> <hr size="1" noshade> </td>
    </tr>
  </table>
<p>
<table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr valign="top"> 
    <td> <h2><a name="recommendations"></a><script>document.write(generalRecommendationsTitle);</script></h2></td>
  </tr>
</table>
<!-- InstanceBeginEditable name="Recommendations" -->
<table width="85%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr> 
    <td> <ul>
        <li>To reduce I/O operations on a small data set, allocate as many buffers 
          as there are pages in the data set so that the entire data set can be 
          loaded into memory. This technique is most effective if you read the 
          same observations several times during processing.<br>
          <br>
        </li>
        <li> Under the z/OS operating environment, as the size of the data set 
          increases, increase the number of buffers allocated, rather than the 
          size of each buffer, to minimize I/O consumption. </li>
      </ul>
      </td>
  </tr>
</table>
<!-- InstanceEndEditable -->
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
