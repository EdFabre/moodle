<html><!-- InstanceBegin template="/Templates/informationObject.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
  
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" --> 
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">


<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
</HEAD>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">
<script>writeinformationObjectTopNav1();</script>
	  
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Using 
      Dates and Times in Calculations<!-- InstanceEndEditable --></strong></font> <!-- InstanceBeginEditable name="continued" --><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>
<br>
<center>
  <!-- InstanceBeginEditable name="content" --> 
<table width="85%" border="0" cellpadding="0" cellspacing="0" align="center">
  <tr valign="top"> 
    <td>
<p>In this lesson so far, you've learned how date and time informats read 
        common date and time expressions in specific forms. Now you will see how 
        converting date and time expressions to numeric SAS date values can be 
        useful, particularly for determining time intervals or performing calculations. 
      </p>
      <p> Suppose you work in the billing department of a small community hospital. 
        It's your job to create a SAS data set from the raw data file that is 
        referenced by the fileref <strong>Aprdata</strong>. A portion of the raw 
        data file below shows data values that represent each patient's 
      <ul>
        <li> last name 
        <li> date checked in 
        <li> date checked out 
        <li> daily room rate 
        <li> equipment cost. 
      </ul>
    </td>
  </tr>
</table>
<p align="center"> Raw Data File Aprdata 
<center>
  <font  face="Courier New, Courier" size="2" color="#000000"><font  face="Courier New, Courier" size="2" color="#000000"> 
  <table  border=1 cellspacing=0 cellpadding=0 rules=NONE frame=BOX bgcolor="#CCCCCC" title="Raw Data File">
    <thead> 
    <tr> 
      <td align=CENTER bgcolor="#F7F7DE" nowrap><font  face="Courier New, Courier" size="2" color="#000000">1---+----10---+----20---+----30---+----40</font><font  face="Verdana, Arial, Helvetica" size="2" color="#000000">&nbsp;</font></td>
    </tr>
    </thead> <tbody> 
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">Akron&nbsp;&nbsp;&nbsp;&nbsp;04/05/99&nbsp;04/09/99&nbsp;175.00&nbsp;298.45</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">Brown&nbsp;&nbsp;&nbsp;&nbsp;04/12/99&nbsp;05/01/99&nbsp;125.00&nbsp;326.78</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">Carnes&nbsp;&nbsp;&nbsp;04/27/99&nbsp;04/29/99&nbsp;125.00&nbsp;174.24</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">Denison&nbsp;&nbsp;04/11/99&nbsp;04/12/99&nbsp;175.00&nbsp;&nbsp;87.41</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">Fields&nbsp;&nbsp;&nbsp;04/15/99&nbsp;04/22/99&nbsp;175.00&nbsp;378.96</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">Jamison&nbsp;&nbsp;04/16/99&nbsp;04/23/99&nbsp;125.00&nbsp;346.28&nbsp;</font></td>
    </tr>
    </tbody> 
  </table>
  </font></font>
</center>
<p align="center"> <br>
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
        <td>The data set that you create must also include variable values that 
          represent how many days each person stayed in the hospital, the total 
          room charges, and the total of all expenses that each patient incurred. 
          When building the SAS program, you must first name the data set, identify 
          the raw data file <strong>Aprdata</strong>, and use formatted input 
          to read the data. </td>
    </tr>
  </table>
  <br>
  <table cellpadding="2" cellspacing="0" border="0" width="85%">
    <tr valign="top"> 
      <td width="41"><img src="../navimages/alert.gif" width="37" height="32"  align="top" alt="Alert:"></td>
        <td>The following example is shown with the YEARCUTOFF= system option. 
          When you work with two-digit year data, remember to check the default 
          value of the YEARCUTOFF= option, and change it if necessary. </td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td> 
        <pre><font color="#003399">     options yearcutoff=1920;
     data perm.aprbills;</font>
<font color="#003399">        infile aprdata;</font>
<font color="#003399">        input LastName $8.</font></pre>
      </td>
    </tr>
  </table>

  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
        <td>Notice that the values in the second and third fields are in the form 
          <em>mmddyy</em>. To complete the INPUT statement, add instructions to 
          read the values for <code>RoomRate</code> (third field) and <code>EquipCost</code> 
          (fourth field), and add a semicolon. 
          <pre>     <font color="#003399">options yearcutoff=1920;</font>
     <font color="#003399">data perm.aprbills;</font>
        <font color="#003399">infile aprdata;</font>
        <font color="#003399">input LastName $8. @10 <strong>DateIn mmddyy8.</strong> +1 <strong>DateOut</strong></font>
              <font color="#003399"><strong>mmddyy8.</strong> +1 RoomRate 6. @35 EquipCost 6.;</font></pre>
        Now that the INPUT statement is complete, calculate how many days each 
        patient was hospitalized. Because <code>DateIn</code> and <code>DateOut</code><em> 
        </em>are numeric variables, you can simply subtract to find the difference. 
        But because the dates should be inclusive (patients are charged for both 
        the first and last days), you must add 1 to the difference. Call this 
        new variable <code>Days</code>. 
        <pre><font color="#003399">     </font><font color="#003399">options yearcutoff=1920;</font>
     <font color="#003399">data perm.aprbills;</font>
<font color="#003399">        infile aprdata;</font>
<font color="#003399">        input LastName $8. @10 DateIn mmddyy8. +1 DateOut</font>
<font color="#003399">              mmddyy8. +1 RoomRate 6. @35 EquipCost 6.;</font>
<font color="#003399"><strong>        Days=dateout-datein+1;</strong></font></pre>
        You can calculate a total room charge by multiplying the variable values 
        for <code>Days</code> and <code>RoomRate</code>. 
        <pre><font color="#003399">     </font><font color="#003399">options yearcutoff=1920;
</font>     <font color="#003399">data perm.aprbills;</font>
<font color="#003399">        infile aprdata;</font>
<font color="#003399">        input LastName $8. @10 DateIn mmddyy8. +1 DateOut</font>
<font color="#003399">           mmddyy8. +1 RoomRate 6. @35 EquipCost 6.;</font>
<font color="#003399">        Days=dateout-datein+1;</font>
<font color="#003399"><strong>        RoomCharge=days*roomrate;</strong></font></pre>
        Calculating the total cost for each patient is easy. Create a variable 
        named <code>Total</code> whose value is the sum of <code>RoomCharge</code> 
        and <code>EquipCost</code>. Then add a PROC PRINT step and a RUN statement 
        to view the new data. 
        <pre><font color="#003399">     options yearcutoff=1920;
     data perm.aprbills;</font>
<font color="#003399">        infile aprdata;</font>
<font color="#003399">        input LastName $8. @10 DateIn mmddyy8. +1 DateOut</font>
<font color="#003399">           mmddyy8. +1 RoomRate 6. @35 EquipCost 6.;</font>
<font color="#003399">        Days=dateout-datein+1;</font>
<font color="#003399">        RoomCharge=days*roomrate;</font>
<font color="#003399"><strong>        Total=roomcharge+equipcost;
     </strong>run;</font>
<font color="#003399">     proc print data=perm.aprbills;</font>
<font color="#003399">     run;</font></pre>
      </td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <table border="1" cellpadding="2" cellspacing="1" rules="GROUPS" frame="BOX"
  bgcolor="#FFFFF0" bordercolor="#000000" title="PROC PRINT Output">
    <thead> 
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>Obs</b></font></td>
      <td align="left" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>LastName</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>DateIn</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>DateOut</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>RoomRate</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>EquipCost</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>Days</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>RoomCharge</b></font></td>
      <td align="right" bgcolor="#CCCCCC" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="3" color="#0033AA"><b>Total</b></font></td>
    </tr>
    </thead> <tbody> 
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><b><font face="Arial, Helvetica, Helv" size="3" color="#003399">1</font></b></td>
      <td align="left" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">Akron</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14339</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14343</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">175</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">298.45</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">5</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">875</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">1173.45</font></td>
    </tr>
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><b><font face="Arial, Helvetica, Helv" size="3" color="#003399">2</font></b></td>
      <td align="left" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">Brown</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14346</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14365</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">125</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">326.78</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">20</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">2500</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">2826.78</font></td>
    </tr>
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><b><font face="Arial, Helvetica, Helv" size="3" color="#003399">3</font></b></td>
      <td align="left" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">Carnes</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14361</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14363</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">125</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">174.24</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">3</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">375</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">549.24</font></td>
    </tr>
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><b><font face="Arial, Helvetica, Helv" size="3" color="#003399">4</font></b></td>
      <td align="left" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">Denison</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14345</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14346</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">175</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">87.41</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">2</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">350</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">437.41</font></td>
    </tr>
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><b><font face="Arial, Helvetica, Helv" size="3" color="#003399">5</font></b></td>
      <td align="left" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">Fields</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14349</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14356</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">175</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">378.96</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">8</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">1400</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">1778.96</font></td>
    </tr>
    <tr> 
      <td align="center" bgcolor="#CCCCCC" bordercolor="#000000"><b><font face="Arial, Helvetica, Helv" size="3" color="#003399">6</font></b></td>
      <td align="left" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">Jamison</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14350</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">14357</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">125</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">346.28</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">8</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">1000</font></td>
      <td align="right" bgcolor="#EFEFEF" bordercolor="#000000"><font face="Arial, Helvetica, Helv"
              size="2" color="#000000">1346.28</font></td>
    </tr>
    </tbody> 
  </table>
</center>
<p align="center"> <br>
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
        <td>If the values for <code>DateIn</code> and <code>DateOut</code> look 
          odd to you, remember that these are SAS date values. Applying a format 
          such as MMDDYY. displays them as they appeared in <strong>Aprdata</strong>. 
          You'll work with some other date and time formats later in this lesson.</td>
    </tr>
  </table>
  <br>
  <br>
</center>
<!-- InstanceEndEditable --> 
</center>
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
