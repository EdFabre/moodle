<html><!-- InstanceBegin template="/Templates/informationObject.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
  
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" --> 
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">


<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
</HEAD>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">
<script>writeinformationObjectTopNav1();</script>
	  
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Nesting 
      DO Loops<!-- InstanceEndEditable --></strong></font> <!-- InstanceBeginEditable name="continued" --><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>
<br>
<center>
  <!-- InstanceBeginEditable name="content" --> 
<table width="85%" border="0" cellpadding="0" cellspacing="0" align="center">
  <tr valign="top"> 
    <td>
<p>Iterative DO statements can be executed within a DO loop. Putting a DO 
        loop within a DO loop is called <strong>nesting</strong>. </p>
      <pre>    <font color="blue"> do i=1 to 20;</font>
        <font color="#003399"><em>SAS statements</em></font>
        <font color="red"><strong>do j=1 to 10;</strong></font>
           <font color="#003399"><em>SAS statements</em></font>
        <font color="red"><strong>end;</strong></font>
        <font color="#003399"><em>SAS statements</em></font>
     <font color="blue">end;</font></pre>
      The DATA step below computes the value of a one-year investment that earns 
      7.5% annual interest, compounded monthly. 
      <pre><font color="#003399">     data work.earn;</font>
<font color="#003399">        Capital=2000;</font>
<font color="#003399">        <strong>do month=1 to 12;</strong></font>
<strong><font color="#003399">           Interest=capital*(.075/12);</font>
<font color="#003399">           capital+interest;</font>
<font color="#003399">        end;</font>
</strong><font color="#003399">     run;</font>
</pre>
      <p> Let's assume the same amount of capital is to be added to the investment 
        each year for 20 years. The new program must perform the calculation for 
        each month during each of the 20 years. To do this, you can include the 
        monthly calculations within another DO loop that executes twenty times. 
      <pre><font color="#003399">     data work.earn;</font>
       <font color="blue"> <strong>do year=1 to 20;</strong></font> 
     <font color="#003399">      Capital+2000;</font>             
     <font color="red">      do month=1 to 12;</font>         
     <font color="#003399">         Interest=capital*(.075/12);</font> 
     <font color="#003399">         capital+interest;</font>      
     <font color="red">      end;</font>                      
       <font color="blue"> <strong>end;</strong></font>             
<font color="#003399">     run;</font>
</pre>
      <p> During each iteration of the outside DO loop, an additional 2,000 is 
        added to the capital, and the nested DO loop executes twelve times. 
      <pre><font color="#003399">     data work.earn;</font>
<font color="#003399">        do year=1 to 20;</font>
<font color="#003399">           Capital+2000;</font>
          <font color="red"> <strong>do month=1 to 12;</strong></font> 
        <font color="#003399">      Interest=capital*(.075/12);</font> 
        <font color="#003399">      capital+interest;</font>      
          <font color="red"> <strong>end;</strong></font>              
<font color="#003399">        end;</font>
<font color="#003399">     run;</font>
</pre>
      <p> Remember, in order for nested DO loops to execute correctly, you must 
      <ul>
        <li> assign a unique index-variable name in each iterative DO statement. 
      </ul>
      <pre><font color="#003399">     data work.earn;</font>
       <font color="blue"> do <strong>year=1 to 20;</strong></font>
<font color="#003399">           Capital+2000;</font>
          <font color="red"> do <strong>month=1 to 12;</strong></font>
<font color="#003399">              Interest=capital*(.075/12);</font>
<font color="#003399">              capital+interest;</font>
<font color="#003399">           end;</font>
<font color="#003399">        end;</font>
<font color="#003399">     run;</font>
</pre>
      <ul>
        <li> end each DO loop with an END statement. 
      </ul>
      <pre><font color="#003399">     data work.earn;</font>
       <font color="blue"> <strong>do</strong></font> <font color="#003399">year=1 to 20;</font>
     <font color="#003399">      Capital+2000;</font>
          <font color="red"> <strong>do</strong></font> <font color="#003399">month=1 to 12;</font>
        <font color="#003399">      Interest=capital*(.075/12);</font>
        <font color="#003399">      capital+interest;</font>
          <font color="red"> <strong>end;</strong></font>
       <font color="blue"> <strong>end;</strong></font>
<font color="#003399">     run;</font>
</pre>
      <p> It is easier to manage nested DO loops if you indent the statements 
        in each DO loop as shown above.
    </td>
  </tr>
</table>
<br>
<br>
<!-- InstanceEndEditable --> 
</center>
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
