<html><!-- InstanceBegin template="/Templates/informationObject.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
  
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" --> 
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">


<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
</HEAD>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">
<script>writeinformationObjectTopNav1();</script>
	  
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Creating 
      One Observation per Header Record<!-- InstanceEndEditable --></strong></font> <!-- InstanceBeginEditable name="continued" --><font color="#003399" size="3" face="Arial, Helvetica, sans-serif">(continued)</font><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>
<br>
<center>
  <!-- InstanceBeginEditable name="content" --> 
<table width="85%" border="0" cellpadding="0" cellspacing="0" align="center">
  <tr valign="top"> 
    <td>
<p><strong>Reading Detail Records</strong> </p>
      <p> When the value of <code>type</code> is not <em>H</em>, you need to define 
        an alternative action. You can do this by adding an ELSE statement to 
        the IF-THEN statement. 
    </td>
  </tr>
</table>
<center>
  <p> 
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td>Remember that the IF-THEN statement executes a SAS statement when the 
        condition specified in the IF clause is true. By adding an ELSE statement 
        after the IF-THEN statement, you define an alternative action to be performed 
        when the THEN clause is not executed. 
        <pre><font color="#003399">     data perm.residnts;</font>
<font color="#003399">        infile census; </font>
<font color="#003399">        retain Address;</font>
<font color="#003399">        input type $1. @;</font>
<font color="#003399">        if <strong>type='H'</strong> then do;</font>
<font color="#003399">           if _n_ &gt; 1 then output;</font>
<font color="#003399">           Total=0;</font>
<font color="#003399">           input address $ 3-17;</font>
<font color="#003399">        end;</font>
<font color="#003399">        <strong>else</strong></font>
</pre>
        <p> The only other type of record is a detail record, represented by a 
          <em>P</em>. You want to count each person who is represented by a detail 
          record and store the accumulated value in the summary variable <code>Total</code>. 
          You do not need to read the values for <code>Name</code>, <code>Age</code>, 
          and <code>Gender</code>. 
      </td>
    </tr>
  </table>
  <p> <br>
  <font  face="Courier New, Courier" size="2" color="#000000"> 
  <table  border=1 cellspacing=0 cellpadding=0 rules=NONE frame=BOX bgcolor="#CCCCCC" title="Raw Data File">
    <thead>
    <tr> 
      <td align=CENTER bgcolor="#F7F7DE"><font  face="Courier New, Courier" size="2" color="#000000">1---+----10---+----20</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">H&nbsp;321&nbsp;S.&nbsp;MAIN&nbsp;ST&nbsp;</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;MARY&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;21&nbsp;F</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;WILLIAM&nbsp;M&nbsp;23&nbsp;M&nbsp;</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;SUSAN&nbsp;K&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;F</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000">H&nbsp;324&nbsp;S.&nbsp;MAIN&nbsp;ST&nbsp;</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;THOMAS&nbsp;H&nbsp;&nbsp;79&nbsp;M</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;WALTER&nbsp;S&nbsp;&nbsp;46&nbsp;M</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;ALICE&nbsp;A&nbsp;&nbsp;&nbsp;42&nbsp;F&nbsp;</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;MARYANN&nbsp;A&nbsp;20&nbsp;F&nbsp;</font></td>
    </tr>
    <tr> 
      <td align=LEFT bgcolor="#FFFFFF"><font  face="Courier New, Courier" size="2" color="#000000"><span style="background-color: #CCCC99">P</span>&nbsp;JOHN&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;M&nbsp;</font></td>
    </tr>
  </table>
  </font>
<p> <br>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td> 
        <pre><font color="#003399">     data perm.residnts;</font>
<font color="#003399">        infile census; </font>
<font color="#003399">        retain Address;</font>
<font color="#003399">        input type $1. @;</font>
<font color="#003399">        if type='H' then do;</font>
<font color="#003399">           if _n_ &gt; 1 then output;</font>
<font color="#003399">           Total=0;</font>
<font color="#003399">           input address $ 3-17;</font>
<font color="#003399">        end;</font>
<font color="#003399">        <strong>else if type='P' then</strong></font>
</pre>
        <p> You have already initialized the value of <code>Total</code> to <em>0</em> 
          each time a header record is read. Now, as each detail record is read, 
          you can increment the value of <code>Total</code> by using a sum statement. 
          In this example you're counting the number of detail records for each 
          header record, so you increment the value of &nbsp;<code>Total</code> 
          by 1 when the value of <code>type</code> is <em>P</em>. 
        <pre><font color="#003399">     data perm.residnts;  </font>
<font color="#003399">        infile census; </font>
<font color="#003399">        retain Address;</font>
<font color="#003399">        input type $1. @;</font>
<font color="#003399">        if type='H' then do;</font>
<font color="#003399">           if _n_ &gt; 1 then output;</font>
<font color="#003399">           <strong>Total=0;</strong></font>
<font color="#003399">           input address $ 3-17;</font>
<font color="#003399">        end;</font>
<font color="#003399">        else if type='P' then<strong> total+1;</strong></font>
</pre>
      </td>
    </tr>
  </table>
</center>
<p> 
<center>
  <table cellpadding="2" cellspacing="0" border="0" width="85%">
    <tr valign="Top"> 
      <td width="41"><img src="../navimages/alert.gif" width="37" height="32" alt="Alert!"></td>
      <td>Remember that a sum statement enables you to add any valid SAS expression 
        to an accumulator variable. Depending on your data, you may need to add 
        the value of another variable to the accumulator variable. 
        <pre>     <font color="#003399">else if type='B' then <strong>total+cost;</strong></font>
</pre>
      </td>
    </tr>
  </table>
  <p>
    <table width="85%" border="0" cellpadding="2" cellspacing="0">
      <tr> 
        <td valign="top" width="41"><img src="../navimages/alert.gif" width="37" height="32" alt="Caution"></td>
        <td valign="top">Remember also that the value generated by a sum statement 
          is automatically retained throughout the DATA step. That is why it is 
          important to set the value of <code>Total</code> to <em>0</em> each 
          time a header record is read.</td>
      </tr>
    </table>
	<br>
	<br>
  </center>
<!-- InstanceEndEditable --> 
</center>
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
