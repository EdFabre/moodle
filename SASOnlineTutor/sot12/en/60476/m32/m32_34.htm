<html><!-- InstanceBegin template="/Templates/informationObject.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<SCRIPT LANGUAGE="JavaScript" SRC="../tut.js"></SCRIPT>
<script language="JavaScript" src="../nav.js"></script>
<SCRIPT LANGUAGE="JavaScript">
 setPageTitle();
 setCookie();
  
// Drop down menu link- © Dynamic Drive (www.dynamicdrive.com)
// For full source code and 100's more DHTML scripts, visit http://www.dynamicdrive.com
// Credit MUST stay intact for use -->

</SCRIPT>

<!-- InstanceBeginEditable name="extrascript" --> 
<SCRIPT LANGUAGE="JavaScript">
</SCRIPT>
<!-- InstanceEndEditable -->

<link rel="stylesheet" href="../tut.css">


<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
</HEAD>

<body marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" rightmargin="0" bgcolor="#FFFFF0">
<script>writeinformationObjectTopNav1();</script>
	  
	  <font color="#003399" size="3" face="Arial, Helvetica, sans-serif"><strong><!-- InstanceBeginEditable name="TopicTitle" -->Creating 
      Macro Variables During DATA Step Execution<!-- InstanceEndEditable --></strong></font> <!-- InstanceBeginEditable name="continued" --><font color="#003399" size="3" face="Arial, Helvetica, sans-serif">(continued)</font><!-- InstanceEndEditable -->
	  
<script>writeinformationObjectTopNav2();</script>
<br>
<center>
  <!-- InstanceBeginEditable name="content" --> 
<table width="85%" border="0" cellpadding="0" cellspacing="0" align="center">
  <tr valign="top"> 
    <td>
<p>To create a macro variable <code>total</code> that will contain the total 
        overtime hours, you write the CALL SYMPUT routine as follows:</p>
    </td>
  </tr>
</table>
<p align="center"> 
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td> 
        <pre><font color="#003399">     call symput('total',totalovertime);</font>
</pre>
      </td>
    </tr>
  </table>
</center>

<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td>This routine creates the macro variable <code>total</code> and assigns 
        to it the value of the DATA set variable <code>TotalOvertime</code>, which 
        is calculated during DATA step execution. If the data set variable is 
        numeric, the numeric values are automatically converted to character values 
        as the values are assigned to the macro variable. A message appears in 
        the SAS log indicating that this automatic conversion has taken place. 
        <p> Then you add this CALL SYMPUT routine to your DATA step and submit 
          the program.
      </td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td> 
        <pre><font color="#003399">     data hrd.overtime;</font>
<font color="#003399">        set hrd.temp(keep=name overtime);</font>
<font color="#003399">        if overtime ne .;</font>
<font color="#003399">        TotalOvertime+overtime;</font>
<font color="#003399">        <strong>call symput('total',totalovertime);</strong></font>
<font color="#003399">     run;</font>
<font color="#003399">     title "Temporary Employees Worked &amp;total Overtime Hours";</font>
<font color="#003399">     proc print data=hrd.overtime;</font>
<font color="#003399">     run;</font>
</pre>
      </td>
    </tr>
  </table>
</center>

<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td>Checking the output below, you see that the macro variable value appears 
        in the title. However, notice that the macro variable value is preceded 
        by several blanks.</td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <table cellpadding="2" cellspacing="0" border="0" width="85%">
    <tr valign="top"> 
      <td width="24"><img src="../navimages/note.gif" border="0" width="20" height="20" alt="Note:"></td>
      <td>The blanks appear in <strong>SAS listing output</strong>. The blanks do not appear 
        in HTML output.</td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <img src="images/m32_34g1.gif" width="469" height="233" alt="Output with Extra Spaces"> 
</center>
<p align="center"> <br>
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td>The leading blanks result from the automatic numeric-to-character conversion 
        that occurs when the numeric value of <code>TotalOvertime</code> is assigned 
        to the macro variable <code>total</code>. The default format that is used 
        for this conversion creates the leading blanks. 
        <p> This conversion also writes messages to the SAS log.
      </td>
    </tr>
  </table>
</center>
<p align=center> <br>
  SAS Log 
<center>
  <table border="1" cellpadding="10" cellspacing="0" title="log output">
    <tr bgcolor="#F7F7DE"> 
      <td> 
        <pre>NOTE: Numeric values have been converted to
      character values at the places given
      by: (Line):(Column). 55:24
</pre>
      </td>
    </tr>
  </table>
</center>
<p align="center"> <br>
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td>You can remove the leading blanks and avoid the conversion messages 
        by using the PUT function to explicitly convert the numeric values of 
        <code>TotalOvertime</code> to character values. You write the CALL SYMPUT 
        routine and include the PUT function as follows:</td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td> 
        <pre><font color="#003399">     call symput('total',<strong>put(totalovertime,2.)</strong>);</font>
</pre>
      </td>
    </tr>
  </table>
</center>

<center>
  <table cellpadding="0" cellspacing="0" border="0" width="85%">
    <tr> 
      <td>For more information about the PUT function, see the lesson 
        <!--lesson reference-->
        <strong><script>document.write(m30title);</script></strong>. 
        <p> After adding the newly written CALL SYMPUT routine to your DATA step 
          and submitting the program, your output appears as expected.
      </td>
    </tr>
  </table>
</center>
<p align="center"> 
<center>
  <img src="images/m32_34g2.gif" width="445" height="229" alt="Output with No Extra Spaces"><br>
  <br>
</center>
<!-- InstanceEndEditable --> 
</center>
<script>writeNav_regular_bottom();</script>
</body>
<!-- InstanceEnd --></html>
